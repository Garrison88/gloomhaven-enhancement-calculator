import 'package:gloomhaven_enhancement_calc/main.dart';

import '../models/goal.dart';
import '../models/perk.dart';
import '../models/personal_goal.dart';
import '../models/player_class.dart';
import '../models/resource.dart';

enum ClassCategory {
  gloomhaven,
  jawsOfTheLion,
  frostHaven,
  crimsonScales,
  custom,
}

abstract class CharacterData {
  static const aesther = 'Aesther';
  static const harrower = 'Harrower';
  static const human = 'Human';
  static const inox = 'Inox';
  static const lurker = 'Lurker';
  static const orchid = 'Orchid';
  static const quatryl = 'Quatryl';
  static const savvas = 'Savvas';
  static const valrath = 'Valrath';
  static const vermling = 'Vermling';

  static const two = 'two';
  static const one = 'one';
  static const card = 'card';
  static const cards = 'cards';
  static const add = 'Add';
  static const addL = 'add';
  static const removeL = 'remove';
  static const remove = 'Remove';
  static const replace = 'Replace';
  static const rolling = 'Rolling';
  static const negative = 'negative';
  static const scenario = 'scenario';
  static const effects = 'effects';

  static final List<PlayerClass> playerClasses = [
    PlayerClass(
      race: inox,
      className: 'Brute',
      classCode: 'br',
      classIconUrl: 'brute.svg',
      locked: false,
      classColor: '0xff4e7ec1',
    ),
    PlayerClass(
      race: quatryl,
      className: 'Tinkerer',
      classCode: 'ti',
      classIconUrl: 'tinkerer.svg',
      locked: false,
      classColor: '0xffc5b58d',
    ),
    PlayerClass(
      race: orchid,
      className: 'Spellweaver',
      classCode: 'sw',
      classIconUrl: 'spellweaver.svg',
      locked: false,
      classColor: '0xffb578b3',
    ),
    PlayerClass(
      race: human,
      className: 'Scoundrel',
      classCode: 'sc',
      classIconUrl: 'scoundrel.svg',
      locked: false,
      classColor: '0xffa5d166',
    ),
    PlayerClass(
      race: savvas,
      className: 'Cragheart',
      classCode: 'ch',
      classIconUrl: 'cragheart.svg',
      locked: false,
      classColor: '0xff899538',
    ),
    PlayerClass(
      race: vermling,
      className: 'Mindthief',
      classCode: 'mt',
      classIconUrl: 'mindthief.svg',
      locked: false,
      classColor: '0xff647c9d',
    ),
    PlayerClass(
      race: valrath,
      className: 'Sunkeeper',
      classCode: 'sk',
      classIconUrl: 'sunkeeper.svg',
      classColor: '0xfff3c338',
    ),
    PlayerClass(
      race: valrath,
      className: 'Quartermaster',
      classCode: 'qm',
      classIconUrl: 'quartermaster.svg',
      classColor: '0xffd98926',
    ),
    PlayerClass(
      race: aesther,
      className: 'Summoner',
      classCode: 'su',
      classIconUrl: 'summoner.svg',
      classColor: '0xffeb6ea3',
    ),
    PlayerClass(
      race: aesther,
      className: 'Nightshroud',
      classCode: 'ns',
      classIconUrl: 'nightshroud.svg',
      classColor: '0xff9f9fcf',
    ),
    PlayerClass(
      race: harrower,
      className: 'Plagueherald',
      classCode: 'ph',
      classIconUrl: 'plagueherald.svg',
      classColor: '0xff74c7bb',
    ),
    PlayerClass(
      race: inox,
      className: 'Berserker',
      classCode: 'be',
      classIconUrl: 'berserker.svg',
      classColor: '0xffd14e4e',
    ),
    PlayerClass(
      race: quatryl,
      className: 'Soothsinger',
      classCode: 'ss',
      classIconUrl: 'soothsinger.svg',
      classColor: '0xffdf7e7a',
    ),
    PlayerClass(
      race: orchid,
      className: 'Doomstalker',
      classCode: 'ds',
      classIconUrl: 'doomstalker.svg',
      classColor: '0xff38c3f1',
    ),
    PlayerClass(
      race: human,
      className: 'Sawbones',
      classCode: 'sb',
      classIconUrl: 'sawbones.svg',
      classColor: '0xffdfddcb',
    ),
    PlayerClass(
      race: savvas,
      className: 'Elementalist',
      classCode: 'el',
      classIconUrl: 'elementalist.svg',
      classColor: '0xff9e9d9d',
    ),
    PlayerClass(
      race: vermling,
      className: 'Beast Tyrant',
      classCode: 'bt',
      classIconUrl: 'beast_tyrant.svg',
      classColor: '0xffad745c',
    ),
    // ENVELOPE X
    PlayerClass(
      race: harrower,
      className: 'Bladeswarm',
      classCode: 'bs',
      classIconUrl: 'bladeswarm.svg',
      locked: false,
      classColor: '0xffae5a4d',
    ),
    // FORGOTTEN CIRCLES
    PlayerClass(
      race: aesther,
      className: 'Diviner',
      classCode: 'dv',
      classIconUrl: 'diviner.svg',
      classCategory: ClassCategory.gloomhaven,
      locked: false,
      classColor: '0xff8bc5d3',
    ),
    // JAWS OF THE LION
    PlayerClass(
      race: quatryl,
      className: 'Demolitionist',
      classCode: 'dl',
      classIconUrl: 'demolitionist.svg',
      classCategory: ClassCategory.jawsOfTheLion,
      locked: false,
      classColor: '0xffe65c18',
    ),
    PlayerClass(
      race: inox,
      className: 'Hatchet',
      classCode: 'hc',
      classIconUrl: 'hatchet.svg',
      classCategory: ClassCategory.jawsOfTheLion,
      locked: false,
      classColor: '0xff78a1ad',
    ),
    PlayerClass(
      race: valrath,
      className: 'Red Guard',
      classCode: 'rg',
      classIconUrl: 'red_guard.svg',
      classCategory: ClassCategory.jawsOfTheLion,
      locked: false,
      classColor: '0xffe3393b',
    ),
    PlayerClass(
      race: human,
      className: 'Voidwarden',
      classCode: 'vw',
      classIconUrl: 'voidwarden.svg',
      classCategory: ClassCategory.jawsOfTheLion,
      locked: false,
      classColor: '0xffd9d9d9',
    ),
    // FROSTHAVEN
    if (includeFrosthaven) ...[
      PlayerClass(
        race: human,
        className: 'Banner Spear',
        classCode: 'bannerspear',
        classIconUrl: 'banner_spear.svg',
        classCategory: ClassCategory.frostHaven,
        locked: false,
        classColor: '0xfffdd072',
      ),
      PlayerClass(
        race: quatryl,
        className: 'Blink Blade',
        classCode: 'blinkblade',
        classIconUrl: 'blink_blade.svg',
        classCategory: ClassCategory.frostHaven,
        locked: false,
        classColor: '0xff00a8cf',
      ),
      PlayerClass(
        race: valrath,
        className: 'Deathwalker',
        classCode: 'deathwalker',
        classIconUrl: 'deathwalker.svg',
        classCategory: ClassCategory.frostHaven,
        locked: false,
        classColor: '0xffacc8ed',
      ),
      PlayerClass(
        race: aesther,
        className: 'Boneshaper',
        classCode: 'boneshaper',
        classIconUrl: 'boneshaper.svg',
        classCategory: ClassCategory.frostHaven,
        locked: false,
        classColor: '0xff6cbe4c',
      ),
      PlayerClass(
        race: inox,
        className: 'Drifter',
        classCode: 'drifter',
        classIconUrl: 'drifter.svg',
        classCategory: ClassCategory.frostHaven,
        locked: false,
        classColor: '0xff92887f',
      ),
      PlayerClass(
        race: harrower,
        className: 'Geminate',
        classCode: 'geminate',
        classIconUrl: 'geminate.svg',
        classCategory: ClassCategory.frostHaven,
        locked: false,
        classColor: '0xffab1c54',
      ),
    ],
    // CRIMSON SCALES
    PlayerClass(
      race: quatryl,
      className: 'Bombard',
      classCode: 'bb',
      classIconUrl: 'bombard.svg',
      classCategory: ClassCategory.crimsonScales,
      classColor: '0xff948572',
    ),
    PlayerClass(
      race: human,
      className: 'Brightspark',
      classCode: 'bp',
      classIconUrl: 'brightspark.svg',
      classCategory: ClassCategory.crimsonScales,
      classColor: '0xffcaad2e',
    ),
    PlayerClass(
      race: inox,
      className: 'Chainguard',
      classCode: 'cg',
      classIconUrl: 'chainguard.svg',
      classCategory: ClassCategory.crimsonScales,
      classColor: '0xffce6d30',
    ),
    PlayerClass(
      race: orchid,
      className: 'Chieftain',
      classCode: 'ct',
      classIconUrl: 'chieftain.svg',
      classCategory: ClassCategory.crimsonScales,
      classColor: '0xff76c6c3',
    ),
    PlayerClass(
      race: valrath,
      className: 'Fire Knight',
      classCode: 'fk',
      classIconUrl: 'fire_knight.svg',
      classCategory: ClassCategory.crimsonScales,
      classColor: '0xffd52229',
    ),
    PlayerClass(
      race: human,
      className: 'Hierophant',
      classCode: 'hf',
      classIconUrl: 'hierophant.svg',
      classCategory: ClassCategory.crimsonScales,
      classColor: '0xffddde8a',
    ),
    PlayerClass(
      race: savvas,
      className: 'Hollowpact',
      classCode: 'hp',
      classIconUrl: 'hollowpact.svg',
      classCategory: ClassCategory.crimsonScales,
      classColor: '0xffa765a9',
    ),
    PlayerClass(
      race: lurker,
      className: 'Luminary',
      classCode: 'ln',
      classIconUrl: 'luminary.svg',
      classCategory: ClassCategory.crimsonScales,
      classColor: '0xffb28abf',
    ),
    PlayerClass(
      race: quatryl,
      className: 'Mirefoot',
      classCode: 'mf',
      classIconUrl: 'mirefoot.svg',
      classCategory: ClassCategory.crimsonScales,
      classColor: '0xffef6b26',
    ),
    PlayerClass(
      race: vermling,
      className: 'Spirit Caller',
      classCode: 'scr',
      classIconUrl: 'spirit_caller.svg',
      classCategory: ClassCategory.crimsonScales,
      classColor: '0xff63bd57',
    ),
    PlayerClass(
      race: aesther,
      className: 'Starslinger',
      classCode: 'ssl',
      classIconUrl: 'starslinger.svg',
      classCategory: ClassCategory.crimsonScales,
      classColor: '0xff4f57a6',
    ),
    //CUSTOM
    PlayerClass(
      race: harrower,
      className: 'Amber Aegis',
      classCode: 'aa',
      classIconUrl: 'amber_aegis.svg',
      classCategory: ClassCategory.custom,
      classColor: '0xfff6831f',
    ),
    PlayerClass(
      race: quatryl,
      className: 'Artificer',
      classCode: 'af',
      classIconUrl: 'artificer.svg',
      classCategory: ClassCategory.custom,
      classColor: '0xff317da7',
    ),
    PlayerClass(
      race: orchid,
      className: 'Brewmaster',
      classCode: 'bm',
      classIconUrl: 'brewmaster.svg',
      classCategory: ClassCategory.custom,
      classColor: '0xffe2c22b',
    ),
    PlayerClass(
      race: orchid,
      className: 'Frostborn',
      classCode: 'fb',
      classIconUrl: 'frostborn.svg',
      classCategory: ClassCategory.custom,
      classColor: '0xffb0e0ea',
    ),
    PlayerClass(
      race: human,
      className: 'Rootwhisperer',
      classCode: 'rw',
      classIconUrl: 'rootwhisperer.svg',
      classCategory: ClassCategory.custom,
      classColor: '0xff7bd071',
    ),
    PlayerClass(
      race: vermling,
      className: 'Ruinmaw',
      classCode: 'rm',
      classIconUrl: 'ruinmaw.svg',
      classCategory: ClassCategory.custom,
      classColor: '0xffdb332d',
    ),
  ];

  static PlayerClass playerClassByClassCode(String classCode) =>
      playerClasses.firstWhere(
        (playerClass) => playerClass.classCode == classCode,
      );

  static final List<int> levelXp = [45, 95, 150, 210, 275, 345, 420, 500];

  static final List<Perk> perks = [
    // BRUTE
    Perk('br', 1, '$remove $two -1 $cards'),
    Perk('br', 1, '$remove $one -1 $card and $addL $one +1 $card'),
    Perk('br', 2, '$add $two +1 $cards'),
    Perk('br', 1, '$add $one +3 $card'),
    Perk('br', 2, '$add three $rolling PUSH 1 $cards'),
    Perk('br', 1, '$add $two $rolling PIERCE 3 $cards'),
    Perk('br', 2, '$add $one $rolling STUN $card'),
    Perk('br', 1,
        '$add $one $rolling DISARM $card and $one $rolling MUDDLE $card'),
    Perk('br', 2, '$add $one $rolling ADD TARGET $card'),
    Perk('br', 1, '$add $one +1 "SHIELD 1, Self" $card'),
    Perk('br', 1, 'Ignore $negative item $effects and $addL $one +1 $card'),
    // TINKERER
    Perk('ti', 2, '$remove $two -1 $cards'),
    Perk('ti', 1, '$replace $one -2 $card with $one +0 $card'),
    Perk('ti', 1, '$add $two +1 $cards'),
    Perk('ti', 1, '$add $one +3 $card'),
    Perk('ti', 1, '$add $two $rolling FIRE $cards'),
    Perk('ti', 1, '$add three $rolling MUDDLE $cards'),
    Perk('ti', 2, '$add $one +1 WOUND $card'),
    Perk('ti', 2, '$add $one +1 IMMOBILIZE $card'),
    Perk('ti', 2, '$add $one +1 HEAL 2 $card'),
    Perk('ti', 1, '$add $one +0 ADD TARGET $card'),
    Perk('ti', 1, 'Ignore $negative $scenario $effects'),
    // SPELLWEAVER
    Perk('sw', 1, '$remove four +0 $cards'),
    Perk('sw', 2, '$replace $one -1 $card with $one +1 $card'),
    Perk('sw', 2, '$add $two +1 $cards'),
    Perk('sw', 1, '$add $one +0 STUN $card'),
    Perk('sw', 1, '$add $one +1 WOUND $card'),
    Perk('sw', 1, '$add $one +1 IMMOBILIZE $card'),
    Perk('sw', 1, '$add $one +1 CURSE $card'),
    Perk('sw', 2, '$add $one +2 FIRE $card'),
    Perk('sw', 2, '$add $one +2 ICE $card'),
    Perk('sw', 1, '$add $one $rolling EARTH and $one $rolling AIR $card'),
    Perk('sw', 1, '$add $one $rolling LIGHT and $one $rolling DARK $card'),
    // SCOUNDREL
    Perk('sc', 2, '$remove $two -1 $cards'),
    Perk('sc', 1, '$remove four +0 $cards'),
    Perk('sc', 1, '$replace $one -2 $card with $one +0 $card'),
    Perk('sc', 1, '$replace $one -1 $card with $one +1 $card'),
    Perk('sc', 2, '$replace $one +0 $card with $one +2 $card'),
    Perk('sc', 2, '$add $two $rolling +1 $cards'),
    Perk('sc', 1, '$add $two $rolling PIERCE 3 $cards'),
    Perk('sc', 2, '$add $two $rolling POISON $cards'),
    Perk('sc', 1, '$add $two $rolling MUDDLE $cards'),
    Perk('sc', 1, '$add $one $rolling INVISIBLE $card'),
    Perk('sc', 1, 'Ignore $negative $scenario $effects'),
    // CRAGHEART
    Perk('ch', 1, '$remove four +0 $cards'),
    Perk('ch', 3, '$replace $one -1 $card with $one +1 $card'),
    Perk('ch', 1, '$add $one -2 $card and $two +2 $cards'),
    Perk('ch', 2, '$add $one +1 IMMOBILIZE $card'),
    Perk('ch', 2, '$add $one +2 MUDDLE $card'),
    Perk('ch', 1, '$add $two $rolling PUSH 2 $cards'),
    Perk('ch', 2, '$add $two $rolling EARTH $cards'),
    Perk('ch', 1, '$add $two $rolling AIR $cards'),
    Perk('ch', 1, 'Ignore $negative item $effects'),
    Perk('ch', 1, 'Ignore $negative $scenario $effects'),
    // MINDTHIEF
    Perk('mt', 2, '$remove $two -1 $cards'),
    Perk('mt', 1, '$remove four +0 $cards'),
    Perk('mt', 1, '$replace $two +1 $cards with $two +2 $cards'),
    Perk('mt', 1, '$replace $one -2 $card with $one +0 $card'),
    Perk('mt', 2, '$add $one +2 ICE $card'),
    Perk('mt', 2, '$add $two $rolling +1 $cards'),
    Perk('mt', 1, '$add three $rolling PULL 1 $cards'),
    Perk('mt', 1, '$add three $rolling MUDDLE $cards'),
    Perk('mt', 1, '$add $two $rolling IMMOBILIZE $cards'),
    Perk('mt', 1, '$add $one $rolling STUN $card'),
    Perk('mt', 1,
        '$add $one $rolling DISARM $card and $one $rolling MUDDLE $card'),
    Perk('mt', 1, 'Ignore $negative $scenario $effects'),
    // SUNKEEPER
    Perk('sk', 2, '$remove $two -1 $cards'),
    Perk('sk', 1, '$remove four +0 $cards'),
    Perk('sk', 1, '$replace $one -2 $card with $one +0 $card'),
    Perk('sk', 1, '$replace $one +0 $card with $one +2 $card'),
    Perk('sk', 2, '$add $two $rolling +1 $cards'),
    Perk('sk', 2, '$add $two $rolling HEAL 1 $cards'),
    Perk('sk', 1, '$add $one $rolling STUN $card'),
    Perk('sk', 2, '$add $two $rolling LIGHT $cards'),
    Perk('sk', 1, '$add $two $rolling "SHIELD 1, Self" $cards'),
    Perk('sk', 1, 'Ignore $negative item $effects and $addL $two +1 $cards'),
    Perk('sk', 1, 'Ignore $negative $scenario $effects'),
    // QUARTERMASTER
    Perk('qm', 2, '$remove $two -1 $cards'),
    Perk('qm', 1, '$remove four +0 $cards'),
    Perk('qm', 2, '$replace $one +0 $card with $one +2 $card'),
    Perk('qm', 2, '$add $two $rolling +1 $cards'),
    Perk('qm', 1, '$add three $rolling MUDDLE $cards'),
    Perk('qm', 1, '$add $two $rolling PIERCE 3 $cards'),
    Perk('qm', 1, '$add $one $rolling STUN $card'),
    Perk('qm', 1, '$add $one $rolling ADD TARGET $card'),
    Perk('qm', 3, '$add $one +0 "Refresh an item" $card'),
    Perk('qm', 1, 'Ignore $negative item $effects and $addL $two +1 $cards'),
    // SUMMONER
    Perk('su', 1, '$remove $two -1 $cards'),
    Perk('su', 1, '$replace $one -2 $card with $one +0 $card'),
    Perk('su', 3, '$replace $one -1 $card with $one +1 $card'),
    Perk('su', 2, '$add $one +2 $card'),
    Perk('su', 1, '$add $two $rolling WOUND $cards'),
    Perk('su', 1, '$add $two $rolling POISON $cards'),
    Perk('su', 3, '$add $two $rolling HEAL 1 $cards'),
    Perk('su', 1, '$add $one $rolling FIRE and $one $rolling AIR $card'),
    Perk('su', 1, '$add $one $rolling DARK and $one $rolling EARTH $card'),
    Perk('su', 1,
        'Ignore $negative $scenario $effects and $addL $two +1 $cards'),
    // NIGHTSHROUD
    Perk('ns', 2, '$remove $two -1 $cards'),
    Perk('ns', 1, '$remove four +0 $cards'),
    Perk('ns', 2, '$add $one -1 DARK $card'),
    Perk('ns', 2, '$replace $one -1 DARK $card with $one +1 DARK $card'),
    Perk('ns', 2, '$add $one +1 INVISIBLE $card'),
    Perk('ns', 2, '$add three $rolling MUDDLE $cards'),
    Perk('ns', 1, '$add $two $rolling HEAL 1 $cards'),
    Perk('ns', 1, '$add $two $rolling CURSE $cards'),
    Perk('ns', 1, '$add $one $rolling ADD TARGET $card'),
    Perk('ns', 1,
        'Ignore $negative $scenario $effects and $addL $two +1 $cards'),
    // PLAGUEHERALD
    Perk('ph', 1, '$replace $one -2 $card with $one +0 $card'),
    Perk('ph', 2, '$replace $one -1 $card with $one +1 $card'),
    Perk('ph', 2, '$replace $one +0 $card with $one +2 $card'),
    Perk('ph', 1, '$add $two +1 $cards'),
    Perk('ph', 3, '$add $one +1 AIR $card'),
    Perk('ph', 1, '$add three $rolling POISON $cards'),
    Perk('ph', 1, '$add $two $rolling CURSE $cards'),
    Perk('ph', 1, '$add $two $rolling IMMOBILIZE $cards'),
    Perk('ph', 2, '$add $one $rolling STUN $card'),
    Perk(
        'ph', 1, 'Ignore $negative $scenario $effects and $addL $one +1 $card'),
    // BERSERKER
    Perk('be', 1, '$remove $two -1 $cards'),
    Perk('be', 1, '$remove four +0 $cards'),
    Perk('be', 2, '$replace $one -1 $card with $one +1 $card'),
    Perk('be', 2, '$replace $one +0 $card with $one $rolling +2 $card'),
    Perk('be', 2, '$add $two $rolling WOUND $cards'),
    Perk('be', 2, '$add $one $rolling STUN $card'),
    Perk('be', 1, '$add $one $rolling +1 DISARM $card'),
    Perk('be', 1, '$add $two $rolling HEAL 1 $cards'),
    Perk('be', 2, '$add $one +2 FIRE $card'),
    Perk('be', 1, 'Ignore $negative item $effects'),
    //SOOTHSAYER
    Perk('ss', 2, '$remove $two -1 $cards'),
    Perk('ss', 1, '$remove $one -2 $card'),
    Perk('ss', 2, '$replace $two +1 $cards with $one +4 $card'),
    Perk('ss', 1, '$replace $one +0 $card with $one +1 IMMOBILIZE $card'),
    Perk('ss', 1, '$replace $one +0 $card with $one +1 DISARM $card'),
    Perk('ss', 1, '$replace $one +0 $card with $one +2 WOUND $card'),
    Perk('ss', 1, '$replace $one +0 $card with $one +2 POISON $card'),
    Perk('ss', 1, '$replace $one +0 $card with $one +2 CURSE $card'),
    Perk('ss', 1, '$replace $one +0 $card with $one +3 MUDDLE $card'),
    Perk('ss', 1, '$replace $one -1 $card with $one +0 STUN $card'),
    Perk('ss', 1, '$add three $rolling +1 $cards'),
    Perk('ss', 2, '$add $two $rolling CURSE $cards'),
    // DOOMSTALKER
    Perk('ds', 2, '$remove $two -1 $cards'),
    Perk('ds', 3, '$replace $two +0 $cards with $two +1 $cards'),
    Perk('ds', 2, '$add $two $rolling +1 $cards'),
    Perk('ds', 1, '$add $one +2 MUDDLE $card'),
    Perk('ds', 1, '$add $one +1 POISON $card'),
    Perk('ds', 1, '$add $one +1 WOUND $card'),
    Perk('ds', 1, '$add $one +1 IMMOBILIZE $card'),
    Perk('ds', 1, '$add $one +0 STUN $card'),
    Perk('ds', 2, '$add $one $rolling ADD TARGET $card'),
    Perk('ds', 1, 'Ignore $negative $scenario $effects'),
    // SAWBONES
    Perk('sb', 2, '$remove $two -1 $cards'),
    Perk('sb', 1, '$remove four +0 $cards'),
    Perk('sb', 2, '$replace $one +0 $card with $one +2 $card'),
    Perk('sb', 2, '$add $one $rolling +2 $card'),
    Perk('sb', 2, '$add $one +1 IMMOBILIZE $card'),
    Perk('sb', 2, '$add $two $rolling WOUND $cards'),
    Perk('sb', 1, '$add $one $rolling STUN $card'),
    Perk('sb', 2, '$add $one $rolling HEAL 3 $card'),
    Perk('sb', 1, '$add $one +0 "Refresh an item" $card'),
    // ELEMENTALIST
    Perk('el', 2, '$remove $two -1 $cards'),
    Perk('el', 1, '$replace $one -1 $card with $one +1 $card'),
    Perk('el', 2, '$replace $one +0 $card with $one +2 $card'),
    Perk('el', 1, '$add three +0 FIRE $cards'),
    Perk('el', 1, '$add three +0 ICE $cards'),
    Perk('el', 1, '$add three +0 AIR $cards'),
    Perk('el', 1, '$add three +0 EARTH $cards'),
    Perk('el', 1,
        '$replace $two +0 $cards with $one +0 FIRE $card and $one +0 EARTH $card'),
    Perk('el', 1,
        '$replace $two +0 $cards with $one +0 ICE $card and $one +0 AIR $card'),
    Perk('el', 1, '$add $two +1 PUSH 1 $cards'),
    Perk('el', 1, '$add $one +1 WOUND $card'),
    Perk('el', 1, '$add $one +0 STUN $card'),
    Perk('el', 1, '$add $one +0 ADD TARGET $card'),
    // BEAST TYRANT
    Perk('bt', 1, '$remove $two -1 $cards'),
    Perk('bt', 3, '$replace $one -1 $card with $one +1 $card'),
    Perk('bt', 2, '$replace $one +0 $card with $one +2 $card'),
    Perk('bt', 2, '$add $one +1 WOUND $card'),
    Perk('bt', 2, '$add $one +1 IMMOBILIZE $card'),
    Perk('bt', 3, '$add $two $rolling HEAL 1 $cards'),
    Perk('bt', 1, '$add $two $rolling EARTH $cards'),
    Perk('bt', 1, 'Ignore $negative $scenario $effects'),
    // BLADESWARM
    Perk('bs', 1, '$remove $one -2 $card'),
    Perk('bs', 1, '$remove four +0 $cards'),
    Perk('bs', 1, '$replace $one -1 $card with $one +1 AIR $card'),
    Perk('bs', 1, '$replace $one -1 $card with $one +1 EARTH $card'),
    Perk('bs', 1, '$replace $one -1 $card with $one +1 LIGHT $card'),
    Perk('bs', 1, '$replace $one -1 $card with $one +1 DARK $card'),
    Perk('bs', 2, '$add $two $rolling HEAL 1 $cards'),
    Perk('bs', 2, '$add $one +1 WOUND $card'),
    Perk('bs', 2, '$add $one +1 POISON $card'),
    Perk('bs', 1, '$add $one +2 MUDDLE $card'),
    Perk('bs', 1, 'Ignore $negative item $effects and $addL $one +1 $card'),
    Perk(
        'bs', 1, 'Ignore $negative $scenario $effects and $addL $one +1 $card'),
    // DIVINER
    Perk('dv', 2, '$remove $two -1 $cards'),
    Perk('dv', 1, '$remove $one -2 $card'),
    Perk(
        'dv', 2, '$replace $two +1 $cards with $one +3 "SHIELD 1, Self" $card'),
    Perk('dv', 1,
        '$replace $one +0 $card with $one +1 "SHIELD 1, Affect any Ally" $card'),
    Perk('dv', 1, '$replace $one +0 $card with $one +2 DARK $card'),
    Perk('dv', 1, '$replace $one +0 $card with $one +2 LIGHT $card'),
    Perk('dv', 1, '$replace $one +0 $card with $one +3 MUDDLE $card'),
    Perk('dv', 1, '$replace $one +0 $card with $one +2 CURSE $card'),
    Perk('dv', 1,
        '$replace $one +0 $card with $one +2 "REGENERATE, Self" $card'),
    Perk('dv', 1,
        '$replace $one -1 $card with $one +1 "HEAL 2, Affect any Ally" $card'),
    Perk('dv', 1, '$add $two $rolling "HEAL 1, Self" $cards'),
    Perk('dv', 1, '$add $two $rolling CURSE $cards'),
    Perk('dv', 1,
        'Ignore $negative $scenario $effects and $addL $two +1 $cards'),
    // DEMOLITIONIST
    Perk('dl', 1, '$remove four +0 $cards'),
    Perk('dl', 2, '$remove $two -1 $cards'),
    Perk('dl', 1, '$remove $one -2 $card and $one +1 $card'),
    Perk('dl', 2, '$replace $one +0 $card with $one +2 MUDDLE $card'),
    Perk('dl', 1, '$replace $one -1 $card with $one +0 POISON $card'),
    Perk('dl', 2, '$add $one +2 $card'),
    Perk('dl', 2, '$replace $one +1 $card with $one +2 EARTH $card'),
    Perk('dl', 2, '$replace $one +1 $card with $one +2 FIRE $card'),
    Perk('dl', 2, '$add $one +0 "All adjacent enemies suffer 1 DAMAGE" $card'),
    // HATCHET
    Perk('hc', 2, '$remove $two -1 $cards'),
    Perk('hc', 1, '$replace $one +0 $card with $one +2 MUDDLE $card'),
    Perk('hc', 1, '$replace $one +0 $card with $one +1 POISON $card'),
    Perk('hc', 1, '$replace $one +0 $card with $one +1 WOUND $card'),
    Perk('hc', 1, '$replace $one +0 $card with $one +1 IMMOBILIZE $card'),
    Perk('hc', 1, '$replace $one +0 $card with $one +1 PUSH 2 $card'),
    Perk('hc', 1, '$replace $one +0 $card with $one +0 STUN $card'),
    Perk('hc', 1, '$replace $one +1 $card with $one +1 STUN $card'),
    Perk('hc', 3, '$add $one +2 AIR $card'),
    Perk('hc', 3, '$replace $one +1 $card with $one +3 $card'),
    // RED GUARD
    Perk('rg', 1, '$remove four +0 $cards'),
    Perk('rg', 1, '$remove $two -1 $cards'),
    Perk('rg', 1, '$remove $one -2 $card and $one +1 $card'),
    Perk('rg', 2, '$replace $one -1 $card with $one +1 $card'),
    Perk('rg', 2, '$replace $one +1 $card with $one +2 FIRE $card'),
    Perk('rg', 2, '$replace $one +1 $card with $one +2 LIGHT $card'),
    Perk('rg', 2, '$add $one +1 FIRE&LIGHT $card'),
    Perk('rg', 2, '$add $one +1 SHIELD 1 $card'),
    Perk('rg', 1, '$replace $one +0 $card with $one +1 IMMOBILIZE $card'),
    Perk('rg', 1, '$replace $one +0 $card with $one +1 WOUND $card'),
    // VOIDWARDEN
    Perk('vw', 1, '$remove $two -1 $cards'),
    Perk('vw', 1, '$remove $one -2 $card'),
    Perk('vw', 2, '$replace $one +0 $card with $one +1 DARK $card'),
    Perk('vw', 2, '$replace $one +0 $card with $one +1 ICE $card'),
    Perk('vw', 2, '$replace $one -1 $card with $one +0 "HEAL 1, Ally" $card'),
    Perk('vw', 3, '$add $one +1 "HEAL 1, Ally" $card'),
    Perk('vw', 1, '$add $one +1 POISON $card'),
    Perk('vw', 1, '$add $one +3 $card'),
    Perk('vw', 2, '$add $one +1 CURSE $card'),
    // AMBER AEGIS
    Perk('aa', 1,
        '$replace $one -2 $card with $one -1 "Place $one Colony token of your choice on any empty hex within Range 2" $card'),
    Perk('aa', 1, '$remove $two -1 $cards'),
    Perk('aa', 1, '$remove four +0 $cards'),
    Perk('aa', 1, '$replace $one -1 $card with $one +2 MUDDLE $card'),
    Perk('aa', 1, '$replace $one -1 $card with $one +1 POISON $card'),
    Perk('aa', 1, '$replace $one -1 $card with $one +1 WOUND $card'),
    Perk('aa', 2, '$add $two $rolling +1 IMMOBILIZE $cards'),
    Perk('aa', 2,
        '$add $one $rolling "HEAL 1, Self" $card and $one $rolling "SHIELD 1, Self" $card'),
    Perk('aa', 2, '$add $one $rolling "RETALIATE 1, Range 3, Self" $card'),
    Perk('aa', 1, '$add $one +2 EARTH/FIRE $card'),
    Perk('aa', 1, 'Ignore $negative item $effects and $addL $one +1 $card'),
    Perk('aa', 1,
        'Ignore $scenario $effects and $addL $one $rolling BRITTLE $card'),
    // ARTIFICER
    Perk('af', 1, '$replace $one -2 $card with $one -1 Any_Element $card'),
    Perk('af', 1, '$replace $one -1 $card with $one +1 DISARM $card'),
    Perk('af', 2, '$replace $one -1 $card with $one +1 PUSH 1 $card'),
    Perk('af', 2, '$replace $one -1 $card with $one +1 PULL 1 $card'),
    Perk('af', 2,
        '$replace $one +0 $card with $one +0 "Refresh a spent item" $card'),
    Perk('af', 2, '$replace $one +0 $card with $one +1 "SHIELD 1, Self" $card'),
    Perk('af', 2, '$replace $one +0 $card with $one +1 PIERCE 2 $card'),
    Perk('af', 1, '$replace $one +2 $card with $one +3 "HEAL 2, Self" $card'),
    Perk(
        'af', 1, '$replace $two +1 $cards with $two $rolling +1 POISON $cards'),
    Perk('af', 1, '$replace $two +1 $cards with $two $rolling +1 WOUND $cards'),
    // BOMBARD
    Perk('bb', 1, '$remove $two -1 $cards'),
    Perk('bb', 1, '$replace $two +0 $cards with $two $rolling PIERCE 3 $cards'),
    Perk('bb', 2,
        '$replace $one -1 $card with $one +0 "+3 if Projectile" $card'),
    Perk('bb', 2, '$add $one +2 IMMOBILIZE $card'),
    Perk('bb', 1,
        '$replace $one +1 $card with $two +1 "RETALIATE 1, Range 3" $cards'),
    Perk('bb', 1, '$add $two +1 "PULL 3, Self, toward the target" $cards'),
    Perk('bb', 1, '$add $one +0 "STRENGTHEN, Self" $card'),
    Perk('bb', 1, '$add $one +0 STUN $card'),
    Perk('bb', 1, '$add $one +1 WOUND $card'),
    Perk('bb', 1, '$add $two $rolling "SHIELD 1, Self" $cards'),
    Perk('bb', 1, '$add $two $rolling "HEAL 1, Self" $cards'),
    Perk('bb', 1,
        'Ignore $negative $scenario $effects and $removeL $one +0 $card'),
    Perk('bb', 1, 'Ignore $negative item $effects and $removeL $one +0 $card'),
    // BREWMASTER
    Perk('bm', 1, '$replace $one -2 $card with $one -1 STUN $card'),
    Perk('bm', 2, '$replace $one -1 $card with $one +1 $card'),
    Perk('bm', 2, '$replace $one -1 $card with $two $rolling MUDDLE $cards'),
    Perk('bm', 1, '$replace $two +0 $cards with $two +0 "HEAL 1, Self" $cards'),
    Perk('bm', 2,
        '$replace $one +0 $card with $one +0 "Give yourself or an adjacent Ally a \'Liquid Rage\' item $card" $card'),
    Perk('bm', 2, '$add $one +2 PROVOKE $card'),
    Perk('bm', 2, '$add four $rolling Shrug_Off 1 $cards'),
    Perk(
        'bm', 1, 'Ignore $negative $scenario $effects and $addL $one +1 $card'),
    Perk('bm', 2, 'Each time you long rest, perform Shrug_Off 1'),
    // BRIGHTSPARK
    Perk('bp', 3,
        '$replace $one -1 $card with $one +0 "Consume_Any_Element to $addL +2 Attack" $card'),
    Perk('bp', 1,
        '$replace $one -2 $card with $one -2 "Recover $one random $card from your discard pile" $card'),
    Perk('bp', 2,
        '$replace $two +0 $cards with $one +1 "HEAL 1, Affect $one Ally within Range 2" $card'),
    Perk('bp', 1,
        '$replace $two +0 $cards with $one +1 "SHIELD 1, Affect $one Ally within Range 2" $card'),
    Perk('bp', 2, '$replace $one +1 $card with $one +2 Any_Element $card'),
    Perk('bp', 2,
        '$add $one +1 "STRENGTHEN, Affect $one Ally within Range 2" $card'),
    Perk('bp', 1,
        '$add $one $rolling "PUSH 1 or PULL 1, AIR" $card and $one $rolling "IMMOBILIZE, ICE" $card'),
    Perk('bp', 1,
        '$add $one $rolling "HEAL 1, Range 3, LIGHT" $card and $one $rolling "PIERCE 2, FIRE" $card'),
    Perk('bp', 1,
        '$add three $rolling "Consume_Any_Element : Any_Element" $cards'),
    Perk('bp', 1,
        'Ignore $negative $scenario $effects and $removeL $one -1 $card'),
    // CHIEFTAIN
    Perk('ct', 1, '$replace $one -1 $card with $one +0 POISON $card'),
    Perk('ct', 2,
        '$replace $one -1 $card with $one +0 "HEAL 1, Chieftain" $card'),
    Perk('ct', 2,
        '$replace $one -1 $card with $one +0 "HEAL 1, Affect all summoned allies owned" $card'),
    Perk('ct', 1, '$replace $one -2 $card with $one -2 "BLESS, Self" $card'),
    Perk('ct', 1,
        '$replace $two +0 $cards with $one +0 "IMMOBILIZE and PUSH 1" $card'),
    Perk('ct', 2,
        '$replace $one +0 $card with $one "+X, where X is the number of summoned allies you own" $card'),
    Perk('ct', 1,
        '$replace $one +1 $card with $two +1 "$rolling +1, if summon is attacking" $cards'),
    Perk('ct', 1, '$add $one +0 WOUND, PIERCE 1 $card'),
    Perk('ct', 2, '$add $one +1 EARTH $card'),
    Perk('ct', 1,
        '$add $two $rolling "PIERCE 2, ignore RETALIATE on the target" $cards'),
    Perk(
        'ct', 1, 'Ignore $negative $scenario $effects and $addL $one +1 $card'),
    // FIRE KNIGHT
    Perk('fk', 1, '$remove $two -1 $cards'),
    Perk('fk', 2,
        '$replace $one -1 $card with $one +0 "STRENGTHEN, Ally" $card'),
    Perk('fk', 2,
        '$replace $two +0 $cards with $two +0 "+2 if you are on Ladder" $cards'),
    Perk('fk', 1, '$replace $one +0 $card with $one +1 FIRE $card'),
    Perk('fk', 1, '$replace $one +0 $card with $one +1 WOUND $card'),
    Perk('fk', 1, '$replace $two +1 $cards with $one +2 FIRE $card'),
    Perk('fk', 1, '$replace $two +1 $cards with $one +2 WOUND $card'),
    Perk('fk', 1, '$add $one +1 "STRENGTHEN, Ally" $card'),
    Perk('fk', 2, '$add $two $rolling "HEAL 1, Range 1" $cards'),
    Perk('fk', 1, '$add $two $rolling WOUND $cards'),
    Perk('fk', 1,
        'Ignore $negative item $effects and $addL $one $rolling FIRE $card'),
    Perk('fk', 1,
        'Ignore $negative $scenario $effects and $addL $one $rolling FIRE $card'),
    // FROSTBORN
    Perk('fb', 2, '$remove $two -1 $cards'),
    Perk('fb', 1, '$replace $one -2 $card with $one +0 CHILL $card'),
    Perk('fb', 2, '$replace $two +0 $cards with $two +1 PUSH 1 $cards'),
    Perk('fb', 2, '$replace $one +0 $card with $one +1 ICE CHILL $card'),
    Perk('fb', 1, '$replace $one +1 $card with $one +3 $card'),
    Perk('fb', 1, '$add $one +0 STUN $card'),
    Perk('fb', 2, '$add $one $rolling ADD TARGET $card'),
    Perk('fb', 1, '$add three $rolling CHILL $cards'),
    Perk('fb', 1, '$add three $rolling PUSH 1 $cards'),
    Perk('fb', 1, 'Ignore DIFFICULT and HAZARDOUS terrain during move actions'),
    Perk('fb', 1, 'Ignore $scenario $effects'),
    // HOLLOWPACT
    Perk('hp', 2, '$replace $one -1 $card with $one +0 "HEAL 2, Self" $card'),
    Perk('hp', 2, '$replace $two +0 $cards with $one +0 VOIDSIGHT $card'),
    Perk('hp', 2, '$add $one -2 EARTH $card and $two +2 DARK $cards'),
    Perk('hp', 1,
        '$replace $one -1 $card with $one -2 STUN $card and $one +0 VOIDSIGHT $card'),
    Perk('hp', 1,
        '$replace $one -2 $card with $one +0 DISARM $card and $one -1 Any_Element $card'),
    Perk('hp', 2,
        '$replace $one -1 $card with $one $rolling +1 VOID $card and $one $rolling -1 CURSE $card'),
    Perk('hp', 2,
        '$replace $two +1 $cards with $one +3 "REGENERATE, Self" $card'),
    Perk('hp', 2,
        '$replace $one +0 $card with $one +1 "Create a Void pit in an empty hex within Range 2" $card'),
    Perk('hp', 1,
        'Ignore $negative $scenario $effects and $addL $one +0 "WARD, Self" $card'),
    // MIREFOOT
    Perk('mf', 1, '$replace $one -2 $card with $one +0 $card'),
    Perk('mf', 2, '$replace $one -1 $card with $one +1 $card'),
    Perk('mf', 2,
        '$replace $two +0 $cards with $two "+X, where X is the POISON value of the target" $cards'),
    Perk('mf', 1, '$replace $two +1 $cards with $two +2 $cards'),
    Perk('mf', 2,
        '$replace $one +0 $card with $two $rolling "Create difficult terrain in the hex occupied by the target" $cards'),
    Perk('mf', 2, '$replace $one +1 $card with $one +0 WOUND 2 $card'),
    Perk('mf', 1,
        '$add four $rolling +0 "+1 if the target occupies difficult terrain" $cards'),
    Perk('mf', 1,
        '$add $two $rolling "INVISIBLE, Self, if you occupy difficult terrain" $cards'),
    Perk('mf', 1,
        'Gain "Poison Dagger" (Item 011). You may carry $one additional One_Hand item with "Dagger" in its name'),
    Perk('mf', 1,
        'Ignore damage, $negative conditions, and modifiers from Events, and $removeL $one -1 $card'),
    Perk('mf', 1,
        'Ignore $negative $scenario $effects and $removeL $one -1 $card'),
    // ROOTWHISPERER
    Perk('rw', 2, '$remove $two -1 $cards'),
    Perk('rw', 1, '$remove four +0 $cards'),
    Perk('rw', 2, '$replace $one +0 $card with $one +2 $card'),
    Perk('rw', 2, '$add $one $rolling +2 $card'),
    Perk('rw', 2, '$add $one +1 IMMOBILIZE $card'),
    Perk('rw', 2, '$add $two $rolling POISON $cards'),
    Perk('rw', 1, '$add $one $rolling DISARM $card'),
    Perk('rw', 2, '$add $one $rolling HEAL 2 EARTH $card'),
    Perk('rw', 1, 'Ignore $negative $scenario $effects'),
    // CHAINGUARD
    Perk('cg', 2, '$replace $one -1 $card with $one +1 Shackle $card'),
    Perk('cg', 2,
        '$replace $one -1 $card with $one +0 "+2 if the target is Shackled" $card'),
    Perk('cg', 2,
        '$replace $two +0 $cards with $one $rolling "SHIELD 1, Self" $card'),
    Perk('cg', 1, '$add $two $rolling "RETALIATE 1, Self" $cards'),
    Perk('cg', 1, '$add three $rolling SWING 3 $cards'),
    Perk('cg', 1, '$replace $one +1 $card with $one +2 WOUND $card'),
    Perk('cg', 1, '$add $one +1 "DISARM if the target is Shackled" $card'),
    Perk('cg', 1,
        '$add $one +1 "Create a 2 DAMAGE trap in an empty hex within Range 2" $card'),
    Perk('cg', 1, '$add $two $rolling "HEAL 1, Self" $cards'),
    Perk('cg', 2, '$add $one +2 Shackle $card'),
    Perk('cg', 1, 'Ignore $negative item $effects and $removeL $one +0 $card'),
    // HIEROPHANT
    Perk('hf', 1, '$remove $two -1 $cards'),
    Perk('hf', 1, '$replace $two +0 $cards with $one $rolling LIGHT $card'),
    Perk('hf', 1, '$replace $two +0 $cards with $one $rolling EARTH $card'),
    Perk('hf', 2, '$replace $one -1 $card with $one +0 CURSE $card'),
    Perk('hf', 1, '$replace $one +0 $card with $one +1 "SHIELD 1, Ally" $card'),
    Perk('hf', 1,
        '$replace $one -2 $card with $one -1 "Give $one Ally a \'Prayer\' ability $card" and $one +0 $card'),
    Perk('hf', 2, '$replace $one +1 $card with $one +3 $card'),
    Perk('hf', 2, '$add $two $rolling "HEAL 1, Self or Ally" $cards'),
    Perk('hf', 2, '$add $one +1 WOUND, MUDDLE $card'),
    Perk('hf', 1, 'At the start of your first turn each $scenario, gain BLESS'),
    Perk('hf', 1,
        'Ignore $negative $scenario $effects and $removeL $one +0 $card'),
    // LUMINARY
    Perk('ln', 1, '$remove four +0 $cards'),
    Perk('ln', 1, '$replace $one +0 $card with $one +2 $card'),
    Perk('ln', 1, '$replace $one -1 $card with $one +0 ICE $card'),
    Perk('ln', 1, '$replace $one -1 $card with $one +0 FIRE $card'),
    Perk('ln', 1, '$replace $one -1 $card with $one +0 LIGHT $card'),
    Perk('ln', 1, '$replace $one -1 $card with $one +0 DARK $card'),
    Perk('ln', 1,
        '$replace $one -2 $card with $one -2 "Perform $one Glow ability" $card'),
    Perk('ln', 2, '$add $one +0 Any_Element $card'),
    Perk('ln', 2, '$add $one $rolling +1 "HEAL 1, Self" $card'),
    Perk('ln', 2,
        '$add $one "POISON, target all enemies in the depicted HEX area" $card'),
    Perk('ln', 1,
        'Ignore $negative $scenario $effects and $removeL $one +0 $card'),
    Perk('ln', 1,
        'Ignore $negative item $effects and $addL $one $rolling "Consume_Any_Element : Any_Element" $card'),
    // SPIRIT CALLER
    Perk('scr', 1,
        '$replace $one -2 $card with $one -1 $card and $one +1 $card'),
    Perk('scr', 2,
        '$replace $one -1 $card with $one +0 "+2 if a Spirit performed the attack" $card'),
    Perk('scr', 2,
        '$replace $one -1 $card with $one +0 $card and $one $rolling POISON $card'),
    Perk('scr', 2, '$replace $one +0 $card with $one +1 AIR $card'),
    Perk('scr', 2, '$replace $one +0 $card with $one +1 DARK $card'),
    Perk('scr', 1, '$replace $one +0 $card with $one +1 PIERCE 2 $card'),
    Perk('scr', 1, '$add three $rolling PIERCE 3 $cards'),
    Perk('scr', 1, '$add $one +1 CURSE $card'),
    Perk('scr', 1, '$add $one $rolling ADD TARGET $card'),
    Perk('scr', 1, '$replace $one +1 $card with $one +2 PUSH 2 $card'),
    Perk('scr', 1,
        'Ignore $negative $scenario $effects and $removeL $one +0 $card'),
    // STARSLINGER
    Perk('ssl', 2,
        '$replace $two +0 $cards with $one $rolling "HEAL 1, Self" $card'),
    Perk('ssl', 1,
        '$replace $one -2 $card with $one -1 "INVISIBLE, Self" $card'),
    Perk('ssl', 1, '$replace $two -1 $cards with $one +0 DARK $card'),
    Perk('ssl', 2, '$replace $one -1 $card with $one +1 LIGHT $card'),
    Perk('ssl', 1, '$add $one $rolling Loot 1 $card'),
    Perk('ssl', 2, '$add $one +1 "+3 if you are at full health" $card'),
    Perk('ssl', 1, '$add $two $rolling IMMOBILIZE $cards'),
    Perk('ssl', 2, '$add $one +1 "HEAL 1, Range 3" $card'),
    Perk('ssl', 1,
        '$add $two $rolling "Force the target to perform a Move 1 ability" $card'),
    Perk('ssl', 1, '$add $two $rolling "HEAL 1, Range 1" $cards'),
    Perk('ssl', 1,
        'Ignore $negative $scenario $effects and $removeL $one +0 $card'),
    // RUINMAW
    Perk(
        'rm', 1, '$replace $one -2 $card with $one -1 RUPTURE and WOUND $card'),
    Perk('rm', 2, '$replace $one -1 $card with $one +0 WOUND $card'),
    Perk('rm', 2, '$replace $one -1 $card with $one +0 RUPTURE $card'),
    Perk('rm', 3,
        '$replace $one +0 $card with $one +1 "$add +3 instead if the target has RUPTURE or WOUND" $card'),
    Perk('rm', 3,
        '$replace $one +0 $card with $one $rolling "HEAL 1, Self, EMPOWER" $card'),
    Perk('rm', 1,
        'Once each $scenario, become SATED after collecting your 5th loot token'),
    Perk('rm', 1,
        'Become SATED each time you lose a $card to negate suffering DAMAGE'),
    Perk('rm', 1,
        'Whenever $one of your abilities causes at least $one enemy to gain RUPTURE, immediately after that ability perform "Move 1"'),
    Perk('rm', 1,
        'Ignore $negative $scenario $effects, and $removeL $one -1 $card'),
    if (includeFrosthaven) ...[
      // BANNER SPEAR
      Perk('bannerspear', 3,
          '$replace $one -1 $card with $one $rolling "SHIELD 1" $card'),
      Perk('bannerspear', 2,
          '$replace $one +0 $card with $one +0 "$add +1 for each Ally adjacent to the target" $card'),
      Perk('bannerspear', 2, '$add $one +1 DISARM $card'),
      Perk('bannerspear', 2, '$add $one +2 PUSH 1 $card'),
      Perk('bannerspear', 2, '$add $two $rolling +1 $cards'),
      Perk('bannerspear', 2, '$add $two $rolling "HEAL 1, Self" $cards'),
      Perk('bannerspear', 1,
          'Ignore $negative item $effects and $removeL $one -1 $card'),
      Perk('bannerspear', 1,
          'At the end of each of your long rests, $one Ally withing Range 3 may perform "Move 2" with you controlling the Move abilities of any summons'),
      Perk('bannerspear', 1,
          'Whenever you open a door with a Move ability, $addL +3 Move'),
      Perk('bannerspear', 2,
          'Once each $scenario, during your turn, gain SHIELD 2 for the remainder of the round',
          perkIsGrouped: true),
      // BLINK BLADE
      Perk('blinkblade', 1, '$remove $one -2 $card'),
      Perk('blinkblade', 2, '$replace $one -1 $card with $one +1 $card'),
      Perk('blinkblade', 2, '$replace $one -1 $card with $one +0 WOUND $card'),
      Perk('blinkblade', 2,
          '$replace $one +0 $card with $one +1 IMMOBILIZE $card'),
      Perk('blinkblade', 3,
          '$replace $one +0 $card with $one $rolling "Place this $card in your active area. On your next attack, discard this $card to $addL +2 Attack" $card'),
      Perk('blinkblade', 1, '$replace $two +1 $cards with $two +2 $cards'),
      // TODO: what is this icon?
      Perk('blinkblade', 2, '$add $one -1 "Gain $one TIME_TOKEN" $card'),
      Perk('blinkblade', 2, '$add $one $rolling +2 "REGENERATE, Self" $card'),
      Perk('blinkblade', 1,
          'Whenever you short rest, you may spend $one item for no effect to Recover a different spent item'),
      Perk('blinkblade', 1,
          'At the start of your first turn each $scenario, you may perform "Move 3"'),
      Perk('blinkblade', 1, 'When you gain IMMOBILIZE, prevent the condition'),
      // DRIFTER
      Perk('drifter', 3, '$replace $one -1 $card with $one +1 $card'),
      Perk('drifter', 1, '$replace $one -2 $card with $one +0 $card'),
      // TODO: handle this case for Move
      Perk('drifter', 2,
          '$replace $one +1 $card with $two +0 "Move $one character token back $one space" $cards'),
      Perk('drifter', 1,
          '$replace $two +0 $cards with $two $rolling PIERCE 3 $cards'),
      Perk('drifter', 1,
          '$replace $two +0 $cards with $two $rolling PUSH 2 $cards'),
      Perk('drifter', 1, '$add $one +3 $card'),
      Perk('drifter', 2, '$add $one +2 IMMOBILIZE $card'),
      Perk('drifter', 1, '$add $two $rolling "HEAL 1, Self" $cards'),
      Perk('drifter', 1,
          'Ignore $negative $scenario $effects and $addL $one +1 $card'),
      Perk('drifter', 1,
          'Ignore $negative item $effects and $addL $one +1 $card'),
      Perk('drifter', 2,
          'Whenever you long rest, you may move $one of your character tokens back $one space',
          perkIsGrouped: true),
      Perk('drifter', 1,
          'You may bring $one additional One_Hand item into each $scenario'),
      Perk('drifter', 1,
          'At the end of each $scenario, you may discard up to $two loot $cards to draw that many new loot $cards'),
      // GEMINATE
      Perk('geminate', 1, '$replace $one -2 $card with $one +0 $card'),
      Perk('geminate', 3,
          '$replace $one -1 $card with $one +0 "Consume_Any_Element : Any_Element" $card'),
      Perk('geminate', 2, '$replace $one +0 $card with $one +1 POISON $card'),
      Perk('geminate', 2, '$replace $one +0 $card with $one +1 WOUND $card'),
      Perk('geminate', 1,
          '$replace $two +0 $cards with $two $rolling PIERCE 3 $cards'),
      Perk('geminate', 1, '$add $two +1 PUSH 3 $cards'),
      Perk('geminate', 1, '$add $one 2x "BRITTLE, Self" $card'),
      Perk('geminate', 2, '$add $one $rolling +1 "REGENERATE, Self" card'),
      Perk('geminate', 1, 'Ignore $negative $scenario $effects'),
      Perk('geminate', 1,
          'Whenever you short rest, you may $removeL $one $negative condition from $one Ally within Range 3'),
      Perk('geminate', 1,
          'Once each $scenario, when you give yourself a $negative condition, prevent the condition'),
      Perk('geminate', 2,
          'Whenever you perform an action with a lost icon, you may discard $one $card to Recover $one discard',
          perkIsGrouped: true),
      // BONESHAPER
      Perk('boneshaper', 2, '$replace $one -1 $card with $one +0 CURSE $card'),
      Perk('boneshaper', 2, '$replace $one -1 $card with $one +0 POISON $card'),
      Perk('boneshaper', 1, '$replace $one -2 $card with $one +0 $card'),
      Perk('boneshaper', 3,
          '$replace $one +0 $card with $one +1 "Kill the attacking summon to instead $addL +4" $card'),
      Perk('boneshaper', 2,
          '$add three $rolling "HEAL 1, Target Boneshaper" $cards'),
      Perk('boneshaper', 3, '$add $one +2 EARTH/DARK $card'),
      Perk('boneshaper', 1,
          'Ignore $negative $scenario $effects and $addL $two +1 $cards'),
      Perk('boneshaper', 1,
          'Immediately before each of your rests, you may kill $one of your summons to perform "BLESS, Self"'),
      Perk('boneshaper', 1,
          'Once each $scenario, when any character ally would become exhausted by suffering DAMAGE, you may suffer DAMAGE 2 to reduce their hit point value to 1 instead'),
      Perk('boneshaper', 2,
          'At the start of each $scenario, you may play a level 1 $card from your hand to perform a summon action of the $card',
          perkIsGrouped: true),
      // DEATHWALKER
      Perk('deathwalker', 1, '$remove $two -1 $cards'),
      Perk('deathwalker', 1, '$replace $one -2 $card with $one +0 $card'),
      Perk('deathwalker', 3, '$replace $one -1 $card with $one +1 $card'),
      Perk('deathwalker', 3, '$replace $one +0 $card with $one +1 CURSE $card'),
      Perk('deathwalker', 2, '$add $one +2 DARK $card'),
      Perk('deathwalker', 2,
          '$add $one $rolling DISARM and $one $rolling MUDDLE $card'),
      Perk('deathwalker', 2, '$add $two $rolling "HEAL 1, Ally" $cards'),
      Perk('deathwalker', 1, 'Ignore $negative $scenario $effects'),
      // TODO: add SHADOW icon
      Perk('deathwalker', 1,
          'Whenever you long rest, you may move $one SHADOW up to 3 hexes'),
      Perk('deathwalker', 1,
          'While you occupy a hex with a SHADOW, all attacks targeting you gain Disadvantage'),
      // TODO: add CONSUME icons
      Perk('deathwalker', 1,
          'Whenever you short rest, you may consume_DARK to perform "CURSE, Range 2" as if you were occupying a hex with a SHADOW'),
    ],
  ];

  static final List<Resource> resources = [
    Resource('metal', 'Metal', 'images/class_icons/mirefoot.svg'),
    Resource('wood', 'Wood', 'images/class_icons/mirefoot.svg'),
    Resource('hide', 'Hide', 'images/class_icons/mirefoot.svg'),
    Resource('arrowvine', 'Arrow Vine', 'images/class_icons/mirefoot.svg'),
    Resource('axenut', 'Axe Nut', 'images/class_icons/mirefoot.svg'),
    Resource('rockroot', 'Rock Root', 'images/class_icons/mirefoot.svg'),
    Resource('flamefruit', 'Flame Fruit', 'images/class_icons/mirefoot.svg'),
    Resource('corpsecap', 'Corpse Cap', 'images/class_icons/mirefoot.svg'),
    Resource('snowthistle', 'Snow Thistle', 'images/class_icons/mirefoot.svg'),
  ];

  static final List<PersonalGoal> personalGoals = [
    PersonalGoal(
      510,
      [
        SubGoal("Complete three 'Crypt' scenarios", 3),
        SubGoal("Complete 'Noxious Cellar' ($scenario 52", 1),
      ],
      'Seeker of Xorn',
      'ph',
    ),
  ];
}
